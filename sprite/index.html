<!DOCTYPE html><html lang="en" ><head ><title data-sm="0-0-0-0-0-0-0-0-0-0-0-0">MapLibre Style Spec</title><meta data-sm="0-0-0-0-0-0-0-0-0-0-1-0" charset="utf-8"/><meta data-sm="0-0-0-0-0-0-0-0-0-0-2-0" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/><link data-sm="0-0-0-0-0-0-0-0-0-0-3-0" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&amp;display=swap" rel="stylesheet"/><link data-sm="0-0-0-0-0-0-0-0-0-0-4-0" rel="icon" type="image/x-icon" href="/maplibre-style-spec/favicon.ico"/><link data-sm="0-0-0-0-0-0-0-0-0-0-5-0" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/fontawesome.css" rel="stylesheet"/><link data-sm="0-0-0-0-0-0-0-0-0-0-6-0" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/brands.css" rel="stylesheet"/><link data-sm="0-0-0-0-0-0-0-0-0-0-7-0" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/solid.css" rel="stylesheet"/><link rel="modulepreload" href="/maplibre-style-spec/assets/index-1a31ecc1.js"><link rel="modulepreload" href="/maplibre-style-spec/assets/entry-client-abf0cb12.js"><link rel="stylesheet" href="/maplibre-style-spec/assets/entry-client-47fd2372.css"><link rel="modulepreload" href="/maplibre-style-spec/assets/markdown-22167de4.js"><link rel="stylesheet" href="/maplibre-style-spec/assets/markdown-86554d27.css"><link rel="modulepreload" href="/maplibre-style-spec/assets/v8-5042578d.js"></head><body ><!!$e0-0-0-0-0-0-0-0-0-1-0-0-0-0-0><div data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-0" class="_app_wrap_16weg_1" id="app_wrap"><!--#--><!--/--><!--#--><header data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-2-0" class="_header_vtaa5_13"><div class="_side_menu_button_vtaa5_2"><i class="fa-solid fa-bars"></i></div><div class="_logo_container_vtaa5_26"><img src="/maplibre-style-spec/maplibre-logo-dark.svg" alt="logo" class="_logo_vtaa5_26"><div class="_title_container_vtaa5_39"><span class="_title_vtaa5_39">Style Spec</span></div></div></header><!--/--><div class="_container_16weg_9"><!--#--><aside data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-0" class="_sidebar_outer_container_1dyzj_1 undefined"><div class="_sidebar_viewport_1dyzj_9"><div class="_sidebar_inner_container_1dyzj_16"><div class="_nav_items_1dyzj_24"><ul><!--#--><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-0"><a class="sidebar-link " href="/maplibre-style-spec/">Introduction</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-1"><a class="sidebar-link " href="/maplibre-style-spec/root/">Root</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-2"><a class="sidebar-link " href="/maplibre-style-spec/expressions/">Expressions</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-3"><a class="sidebar-link " href="/maplibre-style-spec/light/">Light</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-4"><a class="sidebar-link " href="/maplibre-style-spec/glyphs/">Glyphs</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-5"><a class="sidebar-link " href="/maplibre-style-spec/layers/">Layers</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-6"><a class="sidebar-link " href="/maplibre-style-spec/sources/">Sources</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-7"><a class="sidebar-link " href="/maplibre-style-spec/sprite/">Sprite</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-8"><a class="sidebar-link " href="/maplibre-style-spec/terrain/">Terrain</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-9"><a class="sidebar-link " href="/maplibre-style-spec/sky/">Sky</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-10"><a class="sidebar-link " href="/maplibre-style-spec/transition/">Transition</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-11"><a class="sidebar-link " href="/maplibre-style-spec/types/">Types</a></li><li data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-3-1-12"><a class="sidebar-link " href="/maplibre-style-spec/deprecations/">Deprecations</a></li><!--/--><li><a target="_blank" href="https://github.com/maplibre/maplibre-gl-style-spec/blob/main/CHANGELOG.md">Changelog</a></li></ul></div></div></div></aside><!--/--><!--#--><main data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-0" class="_main_content_container_jxdfs_29 undefined"><div class="_main_content_padding_container_jxdfs_40"><!--#--><div data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-1-1-0-0-0" data-closed="" id="collapsible-0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-1-0" class="collapsible " ><button data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-1-1-0-0-1-0-0-0-0" type="button" aria-expanded="false" data-closed="" class="collapsible__trigger " >Table of contents<i data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-1-1-0-0-1-0-0-0-1" class="fa-solid fa-chevron-down collapsible__trigger-icon"></i></button></div><!--/--><div class="_row_jxdfs_47"><div id="ContentWindow" class="_doc_items_jxdfs_51"><div data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-2-1-0-0-0"><div data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-4-2-1-0-0-1-0"><h1 id="sprite" tabindex="-1"><a class="header-anchor" href="#sprite"><span>Sprite</span></a></h1>
<p>Loading a <a href="https://en.wikipedia.org/wiki/Sprite_(computer_graphics)">sprite</a> can be done using the optional <code class="language-typescript">sprite</code> property at the root level of a MapLibre style sheet.</p>
<p>The images contained in the sprite can be referenced in other style properties (<code class="language-typescript">background<span class="token operator">-</span>pattern</code>, <code class="language-typescript">fill<span class="token operator">-</span>pattern</code>, <code class="language-typescript">line<span class="token operator">-</span>pattern</code>,<code class="language-typescript">fill<span class="token operator">-</span>extrusion<span class="token operator">-</span>pattern</code> and <code class="language-typescript">icon<span class="token operator">-</span>image</code>).</p>
<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2>
<p>You need to pass an URL where the sprite can be loaded from.</p>
<pre class="language-json"><code class="language-json"><span class="token property">"sprite"</span><span class="token operator">:</span> <span class="token string">"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"</span>
</code></pre>
<p>This will load both an image by appending <code class="language-typescript"><span class="token punctuation">.</span>png</code> and the metadata about the sprite needed for loading by appending <code class="language-typescript"><span class="token punctuation">.</span>json</code>. See for yourself:</p>
<ul>
<li><a href="https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite.png">https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite.png</a></li>
<li><a href="https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite.json">https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite.json</a></li>
</ul>
<p>More details about the exact requirements on the format of these files is provided in the next section.</p>
<p>When a sprite is provided, you can refer to the images in the sprite in other parts of the style sheet. For example, when creating a symbol layer with the layout property <code class="language-typescript"><span class="token string-property property">"icon-image"</span><span class="token operator">:</span> <span class="token string">"poi"</span></code>. Or with the tokenized value  <code class="language-typescript"><span class="token string-property property">"icon-image"</span><span class="token operator">:</span> <span class="token string">"{icon}"</span></code> and vector tile features with an <code class="language-typescript">icon</code> property with the value <code class="language-typescript">poi</code>.</p>
<h3 id="multiple-sprite-sources" tabindex="-1"><a class="header-anchor" href="#multiple-sprite-sources"><span>Multiple Sprite Sources</span></a></h3>
<p><strong>Note:</strong> This is exclusive to MapLibre GL JS at the moment. See <a href="https://github.com/maplibre/maplibre-native/issues/641">this issue</a> for the current status of this feature in MapLibre Native.</p>
<p>You can also supply an array of <code class="language-typescript"><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span> url<span class="token operator">:</span> <span class="token operator">...</span> <span class="token punctuation">}</span></code> pairs to load multiple sprites:</p>
<pre class="language-json"><code class="language-json"><span class="token property">"sprite"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> 'roadsigns'<span class="token punctuation">,</span>
    url<span class="token operator">:</span> 'https<span class="token operator">:</span><span class="token comment">//example.com/myroadsigns'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> 'shops'<span class="token punctuation">,</span>
    url<span class="token operator">:</span> 'https<span class="token operator">:</span><span class="token comment">//example2.com/someurl'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> 'default'<span class="token punctuation">,</span>
    url<span class="token operator">:</span> 'https<span class="token operator">:</span><span class="token comment">//example2.com/anotherurl'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<p>As you can see, each sprite has an id. All images contained within a sprite also have an id. When using multiple sprites, you need to prefix the id of the image with the id of the sprite it is contained within, followed by a colon. For example, to reference the <code class="language-typescript">stop_sign</code> image on the <code class="language-typescript">roadsigns</code> sprite, you would need to use <code class="language-typescript">roadsigns<span class="token operator">:</span>stop_sign</code>.</p>
<p>The sprite with id <code class="language-typescript"><span class="token keyword">default</span></code> is special in that you do not need to prefix the images contained within it. For example, to reference the image with id <code class="language-typescript">airport</code> in the default sprite above, you can simply use <code class="language-typescript">airport</code>.</p>
<h2 id="sprite-source-format" tabindex="-1"><a class="header-anchor" href="#sprite-source-format"><span>Sprite Source Format</span></a></h2>
<p>A valid sprite source must supply two types of files:</p>
<ul>
<li>
<p><em>An image file</em>, which is a PNG image containing the sprite data.</p>
</li>
<li>
<p>An <em>index file</em>, which is a JSON document containing a description of each image contained in the sprite. The content of this file must be a JSON object whose keys form identifiers to be used as the values of the above style properties, and whose values are objects describing the dimensions (<code class="language-typescript">width</code> and <code class="language-typescript">height</code> properties) and pixel ratio (<code class="language-typescript">pixelRatio</code>) of the image and its location within the sprite (<code class="language-typescript">x</code> and <code class="language-typescript">y</code>). For example, a sprite containing a single image might have the following index file contents:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"poi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"width"</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token property">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">"y"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">"pixelRatio"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
<h3 id="optional-properties" tabindex="-1"><a class="header-anchor" href="#optional-properties"><span>Optional Properties</span></a></h3>
<p>Apart from these required properties, the following optional properties are supported:</p>
<ul>
<li><code class="language-typescript">content</code>: An array of four numbers, with the first two specifying the left, top corner, and the last two specifying the right, bottom corner. If present, and if the icon uses <a href="/maplibre-style-spec/layers/#layout-symbol-icon-text-fit"><code class="language-typescript">icon<span class="token operator">-</span>text<span class="token operator">-</span>fit</code></a>, the symbol's text will be fit inside the content box.</li>
<li><code class="language-typescript">stretchX</code>: An array of two-element arrays, consisting of two numbers that represent the <em>from</em> position and the <em>to</em> position of areas that can be stretched.</li>
<li><code class="language-typescript">stretchY</code>: Same as <code class="language-typescript">stretchX</code>, but for the vertical dimension.</li>
<li><code class="language-typescript">sdf</code>: Boolean. If <code class="language-typescript"><span class="token boolean">true</span></code> then the image is handled as a signed-distance field (SDF) and its color can be set at runtime using the <a href="/maplibre-style-spec/layers/#paint-symbol-icon-color"><code class="language-typescript">icon<span class="token operator">-</span>color</code></a> and <a href="/maplibre-style-spec/layers/#paint-symbol-icon-halo-color"><code class="language-typescript">icon<span class="token operator">-</span>halo<span class="token operator">-</span>color</code></a> properties. Defaults to <code class="language-typescript"><span class="token boolean">false</span></code>.</li>
</ul>
<h4 id="stretch-properties" tabindex="-1"><a class="header-anchor" href="#stretch-properties"><span>Stretch Properties</span></a></h4>
<p>The following image gives a bit more infomation regarding the stretch properties:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"sheild"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"width"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
        <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token property">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">"y"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">"stretchX"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token property">"stretchY"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token property">"pixelRatio"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The red highlighted part is where the stretch will occur over the Y axis and the blue highlight is for the X axis.
<img src="https://maplibre.org/maplibre-gl-js/docs/assets/popup_debug.png" alt="popup-stretch"></p>
<h2 id="high-dpi-devices" tabindex="-1"><a class="header-anchor" href="#high-dpi-devices"><span>High-DPI Devices</span></a></h2>
<p>On high-DPI devices, <code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">2x</span></span></code> is appended to  the URLs described above. For example, if you specified <code class="language-typescript"><span class="token string-property property">"sprite"</span><span class="token operator">:</span> <span class="token string">"https://example.com/sprite"</span></code>, renderers would load <code class="language-typescript">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>sprite<span class="token punctuation">.</span>json</code> and <code class="language-typescript">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>sprite<span class="token punctuation">.</span>png</code>, or <code class="language-typescript">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>sprite<span class="token decorator"><span class="token at operator">@</span><span class="token function">2x</span></span><span class="token punctuation">.</span>json</code> and <code class="language-typescript">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>sprite<span class="token decorator"><span class="token at operator">@</span><span class="token function">2x</span></span><span class="token punctuation">.</span>png</code>.</p>
<h2 id="generating-sprites" tabindex="-1"><a class="header-anchor" href="#generating-sprites"><span>Generating Sprites</span></a></h2>
<p>A tool that can generate sprites from svg files can be found in here: <a href="https://www.npmjs.com/package/@elastic/spritezero">@elastic/spritezero</a></p>
</div></div></div></div><div class="_scroll_to_top_jxdfs_12"><i class="fa-solid fa-arrow-up"></i></div><a class="_github_link_jxdfs_62" target="_blank" href="https://github.com/maplibre/maplibre-style-spec/"><i class="fa-brands fa-github"></i> MapLibre Style repository</a><a class="_github_link_jxdfs_62" target="_blank" href="https://github.com/maplibre/maplibre-style-spec/blob/main/docs/src/routesindex.tsx"><i class="fa-brands fa-github"></i> Edit page</a></div></main><!--/--><!--#--><aside data-hk="0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-5-0" class="undefined _toc_outer_container_nu2fg_1 _largeTOC_nu2fg_14"><div class="undefined _toc_viewport_nu2fg_18" style="scroll-behavior:smooth"></div></aside><!--/--></div></div><!!$/e0-0-0-0-0-0-0-0-0-1-0-0-0-0-0><script>(e=>{let t=e=>e&&e.hasAttribute&&(e.hasAttribute("data-hk")?e:t(e.host&&e.host instanceof Node?e.host:e.parentNode));["click", "input"].forEach((o=>document.addEventListener(o,(o=>{let s=o.composedPath&&o.composedPath()[0]||o.target,a=t(s);a&&!e.completed.has(a)&&e.events.push([a,o])}))))})(window._$HY||(_$HY={events:[],completed:new WeakSet,r:{},fe(){},init(e,t){_$HY.r[e]=[new Promise((e=>t=e)),t]},set(e,t,o){(o=_$HY.r[e])&&o[1](t),_$HY.r[e]=[t]},unset(e){delete _$HY.r[e]},load:e=>_$HY.r[e]}));</script><!--xs--><script type="module" async src="/maplibre-style-spec/assets/entry-client-abf0cb12.js"></script></body></html>